<HTML>
<HEAD><META name="HTML-Generator" content="Dymola"><TITLE>MultiBody</TITLE></HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Interfaces<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Interfaces"></A><A HREF="MultiBody.html#MultiBody"
>MultiBody</A>.Interfaces</H2>
<B>Connectors and partial models for 3D mechanical components</B>
<P>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
><IMG SRC="MultiBody.Interfaces.Frame_aI.png" ALT="MultiBody.Interfaces.Frame_a" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
><IMG SRC="MultiBody.Interfaces.Frame_bI.png" ALT="MultiBody.Interfaces.Frame_b" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialElementaryJoint"
><IMG SRC="MultiBody.Interfaces.PartialElementaryJointI.png" ALT="MultiBody.Interfaces.PartialElementaryJoint" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialForce"
><IMG SRC="MultiBody.Interfaces.PartialForceI.png" ALT="MultiBody.Interfaces.PartialForce" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialLineForce"
><IMG SRC="MultiBody.Interfaces.PartialLineForceI.png" ALT="MultiBody.Interfaces.PartialLineForce" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialAbsoluteSensor"
><IMG SRC="MultiBody.Interfaces.PartialAbsoluteSensorI.png" ALT="MultiBody.Interfaces.PartialAbsoluteSensor" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialRelativeSensor"
><IMG SRC="MultiBody.Interfaces.PartialRelativeSensorI.png" ALT="MultiBody.Interfaces.PartialRelativeSensor" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialVisualizer"
><IMG SRC="MultiBody.Interfaces.PartialVisualizerI.png" ALT="MultiBody.Interfaces.PartialVisualizer" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialTwoFrames"
><IMG SRC="MultiBody.Interfaces.PartialTwoFramesI.png" ALT="MultiBody.Interfaces.PartialTwoFrames" WIDTH=80  HEIGHT=80 ></A>
<P><P>
<H3>Types and constants</H3>
<font color="blue">constant </font>Boolean redundant=true <font color="darkgreen">
  &quot;true, if redundant description of models shall be used&quot;</font>;<p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame"
>Frame</A>
</TD><TD>Frame of a mechanical system</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Frame_a</A>
</TD><TD>Frame a of a mechanical element</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
>Frame_b</A>
</TD><TD>Frame b of a mechanical element</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialElementaryJoint"
>PartialElementaryJoint</A>
</TD><TD>Base model of elementary joints (has two frames + outer world + assert to guarantee that the joint is connected)</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialForce"
>PartialForce</A>
</TD><TD>Superclass of force elements (provide frame_b.f and frame_b.t in subclasses)</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialLineForce"
>PartialLineForce</A>
</TD><TD>Base model of line force elements</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialAbsoluteSensor"
>PartialAbsoluteSensor</A>
</TD><TD>Base class to measure an absolute frame variable</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialRelativeSensor"
>PartialRelativeSensor</A>
</TD><TD>Base class to measure a relative variable between two frames</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialVisualizer"
>PartialVisualizer</A>
</TD><TD>Base model of visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)</TD></TR>
<TR><TD><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.PartialTwoFrames"
>PartialTwoFrames</A>
</TD><TD>Base model for components providing two frame connectors + outer world + assert to guarantee that the component is connected</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Frame_b<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.Frame_bI.png" ALT="MultiBody.Interfaces.Frame_b" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.Frame_b"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.Frame_b</H2>
<B>Frame b of a mechanical element</B><p>
<IMG SRC="MultiBody.Interfaces.Frame_bD.png" ALT="MultiBody.Interfaces.Frame_b">
<H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Frame_b <font color="darkgreen">&quot;Frame b of a mechanical element&quot;</font>
  <font color="blue">extends </font><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame"
>Frame</A>;
<font color="blue">end </font>Frame_b;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Frame_a<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.Frame_aI.png" ALT="MultiBody.Interfaces.Frame_a" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.Frame_a"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.Frame_a</H2>
<B>Frame a of a mechanical element</B><p>
<IMG SRC="MultiBody.Interfaces.Frame_aD.png" ALT="MultiBody.Interfaces.Frame_a">
<H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Frame_a <font color="darkgreen">&quot;Frame a of a mechanical element&quot;</font>
  <font color="blue">extends </font><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame"
>Frame</A>;
  <font color="darkgreen"></font>
<font color="blue">end </font>Frame_a;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialTwoFrames<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialTwoFramesI.png" ALT="MultiBody.Interfaces.PartialTwoFrames" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialTwoFrames"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialTwoFrames</H2>
<B>Base model for components providing two frame connectors + outer world + assert to guarantee that the component is connected</B><p>
<IMG SRC="MultiBody.Interfaces.PartialTwoFramesD.png" ALT="MultiBody.Interfaces.PartialTwoFrames">
<H3>Information</H3>
<PRE></pre>
<p>
This partial model provides two frame connectors, access to the world
object and an assert to check that both frame connectors are connected.
Therefore, inherit from this partial model if the two frame connectors are
needed and if the two frame connectors should be connected for a correct model.
</p>
<pre></PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialTwoFrames <font color="darkgreen">
  &quot;Base model for components providing two frame connectors + outer world + assert to guarantee that the component is connected&quot;</font>

  <font color="darkgreen"></font>
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Interfaces.Frame_a</A> frame_a;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
>Interfaces.Frame_b</A> frame_b;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of component is not connected&quot;);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_b) &gt; 0,
    &quot;Connector frame_b of component is not connected&quot;);
  <font color="darkgreen"></font>
<font color="blue">end </font>PartialTwoFrames;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialLineForce<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialLineForceI.png" ALT="MultiBody.Interfaces.PartialLineForce" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialLineForce"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialLineForce</H2>
<B>Base model of line force elements</B><p>
<IMG SRC="MultiBody.Interfaces.PartialLineForceD.png" ALT="MultiBody.Interfaces.PartialLineForce">
<H3>Information</H3>
<PRE></pre>
<p>
All <b>line force</b> elements should be based on this base model.
This model defines frame_a and frame_b, computes the relative
distance <b>s</b> and provides the force and torque
balance of the cut-forces and cut-torques at frame_a and
frame_b, respectively. In sub-models, only the line force <b>f</b>,
acting at frame_b on the line from frame_a to frame_b, as a function
of the relative distance <b>s</b> and its derivative <b>der</b>(<b>s</b>)
has to be defined. Example:
</p>
<pre>
   <b>model</b> Spring
      <b>parameter</b> Real c "spring constant",
      <b>parameter</b> Real s_unstretched "unstretched spring length";
      <b>extends</b> MultiBody.Interfaces.PartialLineForce;
   <b>equation</b>
      f = c*(s-s_unstretched);
   <b>end</b> Spring;
</pre>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>s_small</TD><TD>1.E-6</TD><TD> Prevent zero-division if relative distance s=0 [m]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialLineForce <font color="darkgreen">&quot;Base model of line force elements&quot;</font>
  <font color="blue">import </font>SI = Modelica.SIunits;
  <font color="blue">parameter </font>SI.Position s_small=1.E-6 <font color="darkgreen">
    &quot;|Advanced|| Prevent zero-division if relative distance s=0&quot;</font>;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Interfaces.Frame_a</A> frame_a;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
>Interfaces.Frame_b</A> frame_b;
  SI.Force f <font color="darkgreen">
    &quot;Line force acting on frame_a and on frame_b (positive, if acting on frame_b and directed from frame_a to frame_b)&quot;</font>;
  SI.Position s <font color="darkgreen">
    &quot;(Guarded) distance between the origin of frame_a and the origin of frame_b (&gt;= s_small))&quot;</font>;
  SI.Position e_a[3] <font color="darkgreen">
    &quot;Unit vector on the line connecting the origin of frame_a with the origin of frame_b resolved in frame_a (directed from frame_a to frame_b)&quot;</font>;
  Real r_rel_a[3] <font color="darkgreen">
    &quot;Position vector from origin of frame_a to origin of frame_b, resolved in frame_a&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="red">definePotentialRoot</font>(frame_a.R, 100);
  <font color="red">definePotentialRoot</font>(frame_b.R, 100);
  <font color="darkgreen"></font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of line force object is not connected&quot;);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_b) &gt; 0,
    &quot;Connector frame_b of line force object is not connected&quot;);
  <font color="darkgreen"></font>
  <font color="darkgreen">// Determine distance s and n_a </font>
  r_rel_a = <font color="red">Frames.resolve2</font>(frame_a.R, frame_b.r_0 - frame_a.r_0);
  s = <font color="red">noEvent</font>(<font color="red">max</font>(<font color="red">Frames.length</font>(r_rel_a), s_small));
  e_a = r_rel_a/s;
  <font color="darkgreen"></font>
  <font color="darkgreen">/* Determine forces and torques at frame_a and frame_b */</font>
  frame_a.f = -e_a*f;
  frame_b.f = -<font color="red">Frames.resolve2</font>(<font color="red">Frames.relativeRotation</font>(frame_a.R, frame_b.R),
    frame_a.f);
  <font color="darkgreen"></font>
  <font color="darkgreen">// Additional equations, if direct connections of line forces</font>
  <font color="blue">if </font><font color="red">isRoot</font>(frame_a.R)<font color="blue"> then</font>
    frame_a.R = <font color="red">Frames.nullRotation</font>();
  <font color="blue">else</font>
    frame_a.t = <font color="red">zeros</font>(3);
  <font color="blue">end if</font>;
  <font color="darkgreen"></font>
  <font color="blue">if </font><font color="red">isRoot</font>(frame_b.R)<font color="blue"> then</font>
    frame_b.R = <font color="red">Frames.nullRotation</font>();
  <font color="blue">else</font>
    frame_b.t = <font color="red">zeros</font>(3);
  <font color="blue">end if</font>;
  <font color="darkgreen"></font>
<font color="blue">end </font>PartialLineForce;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Frame<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Interfaces.Frame"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.Frame</H2>
<B>Frame of a mechanical system</B><p>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Frame <font color="darkgreen">&quot;Frame of a mechanical system&quot;</font>
  <font color="blue">import </font>SI = Modelica.SIunits;
  SI.Position r_0[3] <font color="darkgreen">
    &quot;Position vector from world frame to the connector frame origin, resolved in world frame&quot;</font>;
  <A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Frames.Orientation</A> R <font color="darkgreen">
    &quot;Orientation object to rotate the world frame into the connector frame&quot;</font>;
  <font color="blue">flow </font>SI.Force f[3] <font color="darkgreen">&quot;Cut-force resolved in connector frame&quot;</font>;
  <font color="blue">flow </font>SI.Torque t[3] <font color="darkgreen">&quot;Cut-torque resolved in connector frame&quot;</font>;
<font color="blue">end </font>Frame;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialElementaryJoint<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialElementaryJointI.png" ALT="MultiBody.Interfaces.PartialElementaryJoint" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialElementaryJoint"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialElementaryJoint</H2>
<B>Base model of elementary joints (has two frames + outer world + assert to guarantee that the joint is connected)</B><p>
<IMG SRC="MultiBody.Interfaces.PartialElementaryJointD.png" ALT="MultiBody.Interfaces.PartialElementaryJoint">
<H3>Information</H3>
<PRE></pre>
<p>
All <b>elementary joints</b> should inherit from this base model, i.e.,
joints that are directly defined by equations, provided they compute
either the rotation object of frame_b from the rotation object of frame_a
and from relative quantities (or vice versa), or there is a constraint
equation between the rotation objects of the two frames.
In other cases, a joint object should inherit from
<b>Interfaces.PartialTwoFrames</b> (e.g., joint Spherical, because there
is no constraint between the rotation objects of frame_a and frame_b
or joint Cylindrical because it is not an elementary joint).
</p>
<p>
This partial model provides two frame connectors, a "defineBranch"
between frame_a and frame_b, access to the world
object and an assert to check that both frame connectors are connected.
</p>
<pre>
 </PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialElementaryJoint <font color="darkgreen">
  &quot;Base model of elementary joints (has two frames + outer world + assert to guarantee that the joint is connected)&quot;</font>

  <font color="darkgreen"></font>
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Interfaces.Frame_a</A> frame_a;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
>Interfaces.Frame_b</A> frame_b;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="red">defineBranch</font>(frame_a.R, frame_b.R);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of joint object is not connected&quot;);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_b) &gt; 0,
    &quot;Connector frame_b of joint object is not connected&quot;);
<font color="blue">end </font>PartialElementaryJoint;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialForce<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialForceI.png" ALT="MultiBody.Interfaces.PartialForce" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialForce"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialForce</H2>
<B>Superclass of force elements (provide frame_b.f and frame_b.t in subclasses)</B><p>
<IMG SRC="MultiBody.Interfaces.PartialForceD.png" ALT="MultiBody.Interfaces.PartialForce">
<H3>Information</H3>
<PRE></pre>
<p>
All <b>3-dimensional force</b> and <b>torque elements</b>
should be based on this superclass.
This model defines frame_a and frame_b, computes the relative
translation and rotation between the two frames and calculates
the cut-force and cut-torque at frame_a by a force and torque
balance from the cut-force and cut-torque at frame_b.
As a result, in a subclass, only the relationship between
the cut-force and cut-torque at frame_b has to be defined as
a function of the following relative quantities:
</p>
<pre>
  r_rel_b[3]: Position vector from origin of frame_a to origin
              of frame_b, resolved in frame_b
  R_rel     : Relative orientation object to rotate from frame_a to frame_b
</pre>
<p>
Assume that force f = {100,0,0} should be applied on the body
to which this force element is attached at frame_b, then
the definition should be:
</p>
<pre>
   <b>model</b> Constant_x_Force
      extends MultiBody.Interfaces.PartialForce;
   <b>equation</b>
      frame_b.f = {-100, 0, 0};
      frame_b.t = zeros(3);
   <b>end</b> Constant_x_Force;
</pre>
<p>
Note, that frame_b.f and frame_b.t are flow variables and therefore
the negative value of frame_b.f and frame_b.t is acting at the part
to which this force element is connected.
</p>
<pre></PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialForce <font color="darkgreen">
  &quot;Superclass of force elements (provide frame_b.f and frame_b.t in subclasses)&quot;</font>

  <font color="darkgreen"></font>
  <font color="blue">import </font>SI = Modelica.SIunits;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Interfaces.Frame_a</A> frame_a;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
>Interfaces.Frame_b</A> frame_b;
  SI.Position r_rel_b[3] <font color="darkgreen">
    &quot;Position vector from origin of frame_a to origin of frame_b, resolved in frame_b&quot;</font>;
  <A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Frames.Orientation</A> R_rel <font color="darkgreen">
    &quot;Relative orientation object to rotate from frame_b to frame_a&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of force object is not connected&quot;);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_b) &gt; 0,
    &quot;Connector frame_b of force object is not connected&quot;);
  <font color="darkgreen"></font>
  <font color="darkgreen">/* Determine relative position and relative orientation
     between frame_a and frame_b
  */</font>
  r_rel_b = <font color="red">Frames.resolve2</font>(frame_b.R, frame_b.r_0 - frame_a.r_0);
  R_rel = <font color="red">Frames.relativeRotation</font>(frame_a.R, frame_b.R);
  <font color="darkgreen"></font>
  <font color="darkgreen">/* Force and torque balance between frame_a and frame_b */</font>
  <font color="red">zeros</font>(3, 2) = [frame_a.f, frame_a.t] + <font color="red">Frames.multipleResolve1</font>(R_rel, [
    frame_b.f, frame_b.t + <font color="red">cross</font>(r_rel_b, frame_b.f)]);
<font color="blue">end </font>PartialForce;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialAbsoluteSensor<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialAbsoluteSensorI.png" ALT="MultiBody.Interfaces.PartialAbsoluteSensor" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialAbsoluteSensor"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialAbsoluteSensor</H2>
<B>Base class to measure an absolute frame variable</B><p>
<IMG SRC="MultiBody.Interfaces.PartialAbsoluteSensorD.png" ALT="MultiBody.Interfaces.PartialAbsoluteSensor">
<H3>Information</H3>
<PRE>
</pre>
<p>
This is the base class of a 3D mechanics component with one frame and one
output port in order to measure an absolute quantity in the frame connector
and to provide the measured signal as output for further processing
with the blocks of package Modelica.Blocks.
</p>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialAbsoluteSensor <font color="darkgreen">
  &quot;Base class to measure an absolute frame variable&quot;</font>
  <font color="blue">extends </font>Modelica.Icons.RotationalSensor;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Frame_a</A> frame_a <font color="darkgreen">&quot;Frame from which data is to be measured&quot;</font>;
  Modelica.Blocks.Interfaces.OutPort outPort <font color="darkgreen">&quot;Measured data as signals&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="darkgreen"></font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of absolute sensor object is not connected&quot;);
<font color="blue">end </font>PartialAbsoluteSensor;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialRelativeSensor<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialRelativeSensorI.png" ALT="MultiBody.Interfaces.PartialRelativeSensor" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialRelativeSensor"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialRelativeSensor</H2>
<B>Base class to measure a relative variable between two frames</B><p>
<IMG SRC="MultiBody.Interfaces.PartialRelativeSensorD.png" ALT="MultiBody.Interfaces.PartialRelativeSensor">
<H3>Information</H3>
<PRE>
</pre>
<p>
This is a base class for 3D mechanical components with two frames
and one output port in order to measure relative quantities
between the two frames or the cut-forces/torques in the frame and
to provide the measured signals as output for further processing
with the blocks of package Modelica.Blocks.
</p>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PartialRelativeSensor <font color="darkgreen">
  &quot;Base class to measure a relative variable between two frames&quot;</font>
  <font color="blue">extends </font>Modelica.Icons.RotationalSensor;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>Frame_a</A> frame_a;
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_b"
>Frame_b</A> frame_b;
  Modelica.Blocks.Interfaces.OutPort outPort;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="darkgreen"></font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of relative sensor object is not connected&quot;);
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_b) &gt; 0,
    &quot;Connector frame_b of relative sensor object is not connected&quot;);
  <font color="darkgreen"></font>
<font color="blue">end </font>PartialRelativeSensor;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialVisualizer<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Interfaces.PartialVisualizerI.png" ALT="MultiBody.Interfaces.PartialVisualizer" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Interfaces.PartialVisualizer"></A><A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces"
>MultiBody.Interfaces</A>.PartialVisualizer</H2>
<B>Base model of visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)</B><p>
<IMG SRC="MultiBody.Interfaces.PartialVisualizerD.png" ALT="MultiBody.Interfaces.PartialVisualizer">
<H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialVisualizer <font color="darkgreen">
  &quot;Base model of visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)&quot;</font>

  <font color="darkgreen"></font>
  <A HREF="MultiBody_Interfaces.html#MultiBody.Interfaces.Frame_a"
>MultiBody.Interfaces.Frame_a</A> frame_a;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
<font color="blue">equation </font>
  <font color="red">assert</font>(<font color="red">cardinality</font>(frame_a) &gt; 0,
    &quot;Connector frame_a of visualizer object is not connected&quot;);
<font color="blue">end </font>PartialVisualizer;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Wed Oct 29 09:12:06 2003
.
</address></BODY>
</HTML>
