<HTML>
<HEAD><META name="HTML-Generator" content="Dymola"><TITLE>MultiBody</TITLE></HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Advanced<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Visualizers.Advanced"></A><A HREF="MultiBody_Visualizers.html#MultiBody.Visualizers"
>MultiBody.Visualizers</A>.Advanced</H2>
<B>Visualizers that require basic knowledge about Modelica in order to use them</B>
<P>
<A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Arrow"
><IMG SRC="MultiBody.Visualizers.Advanced.ArrowI.png" ALT="MultiBody.Visualizers.Advanced.Arrow" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.DoubleArrow"
><IMG SRC="MultiBody.Visualizers.Advanced.DoubleArrowI.png" ALT="MultiBody.Visualizers.Advanced.DoubleArrow" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
><IMG SRC="MultiBody.Visualizers.Advanced.ShapeI.png" ALT="MultiBody.Visualizers.Advanced.Shape" WIDTH=80  HEIGHT=80 ></A>
<P><P>
<H3>Information</H3>
<PRE></pre>
<p>
Package <b>Visualizers.Advanced</b> contains components to visualize
3-dimensional shapes with dynamical sizes. Basic knowledge of Modelica
is needed in order to utilize the components of this package.
These components have also to be used for models,
where the forces and torques in the frame connector are set via
equations (in this case, the models of the Visualizers package cannot be used,
since they all have frame connectors).
<p>
<h4>Content</h4>
<table border=1 cellspacing=0 cellpadding=2>
  <tr><td><b>Arrow</b></td>
      <td>Visualizing an arrow where all parts of the arrow can vary dynamically:<br>
      <IMG SRC="../Images/Arrow2.png" ALT="model Visualizers.Advanced.Arrow">
      </td>
  </tr>
  <tr><td><b>Shape</b></td>
      <td>Animation shape of a part with dynamically varying sizes.
      The following shape types are supported:<br>&nbsp;<br>
      <IMG SRC="../Images/FixedShape.png" ALT="model Visualizers.Advanced.Shape">
      </td>
  </tr>
</table>
<pre></PRE><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Arrow"
>Arrow</A>
</TD><TD>Visualizing an arrow with variable size; all data have to be set as modifiers (see info layer)</TD></TR>
<TR><TD><A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.DoubleArrow"
>DoubleArrow</A>
</TD><TD>Visualizing a double arrow with variable size; all data have to be set as modifiers (see info layer)</TD></TR>
<TR><TD><A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
>Shape</A>
</TD><TD>Different visual shapes with variable size; all data have to be set as modifiers (see info layer)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Shape<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Visualizers.Advanced.ShapeI.png" ALT="MultiBody.Visualizers.Advanced.Shape" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Visualizers.Advanced.Shape"></A><A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced"
>MultiBody.Visualizers.Advanced</A>.Shape</H2>
<B>Different visual shapes with variable size; all data have to be set as modifiers (see info layer)</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Model <b>Shape</b> defines a visual shape that is
shown at the location of its reference coordinate system, called
'object frame' below. All describing variables such
as size and color can vary dynamically. The default equations in the
declarations should be modified by providing appropriate equations.
Model <b>Shape</b> is usually used as a basic building block to
implement simpler to use graphical components.
</p>
<p>
The following shapes are supported via
parameter <b>shapeType</b> (e.g., shapeType="box"):<br>&nbsp;
</p>
<IMG SRC="../Images/Shape.png" ALT="model Visualizers.FixedShape">
<p>&nbsp;<br>
The dark blue arrows in the figure above are directed along
variable <b>lengthDirection</b>. The light blue arrows are directed
along variable <b>widthDirection</b>. The <b>coordinate systems</b>
in the figure represent frame_a of the Shape component.
</p>
<p>
Additionally, external shapes are specified as DXF-files
(only 3DFace is supported). External shapes must be named "1", "2"
etc.. The corresponding definitions should be in files "1.dxf",
"2.dxf" etc.Since the DXF-files contain color and dimensions for
the individual faces, the corresponding information in the model
is currently ignored. The DXF-files must be found in the current directory.
</p>
<p>
The following variables are declared as <b>input</b>.
If the default equation is not appropriate, a corresponding
modifier equations has to be provided in the
model where a <b>Shape</b> instance is used, e.g., in the form
</p>
<pre>
    Visualizers.Advanced.Shape shape(length = sin(time));
</pre>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Declaration</b></th>
    <th><b>Meaning</th></tr>
<tr>
  <td>Frames.Orientation <b>R</b> = Frames.nullRotation()</td>
  <td>Orientation object to rotate the world frame into the object frame.</td>
</tr>
<tr>
  <td>Real[3] <b>r</b> = {0,0,0}</td>
  <td>Position vector from origin of world frame to origin of
      object frame, resolved in world frame</td>
</tr>
<tr>
  <td>Real[3] <b>r_shape</b> = {0,0,0}</td>
  <td>Position vector from origin of object frame to shape origin, resolved in object frame</td>
</tr>
<tr>
  <td>Real[3] <b>lengthDirection</b> = {1,0,0}</td>
  <td>Vector in length direction, resolved in object frame</td>
</tr>
<tr>
  <td>Real[3] <b>widthDirection</b> = {0,1,0}</td>
  <td>Vector in width direction, resolved in object frame. When needed,<br> this
      vector is modified such that it is orthogonal to vector lengthDirection </td>
</tr>
<tr>
  <td>Real <b>length</b> = 0</td>
  <td>Length of visual object</td>
</tr>
<tr>
  <td>Real <b>width</b> = 0</td>
  <td>Width of visual object</td>
</tr>
<tr>
  <td>Real <b>height</b> = 0</td>
  <td>Height of visual object</td>
</tr>
<tr>
  <td>Real <b>extra</b> = 0</td>
  <td>Additional size data for some of the shape types (see below)</td>
</tr>
<tr>
  <td>Integer[3] <b>color</b> = {255,0,0} (red)</td>
  <td>Color (see below)</td>
</tr>
</table>
<p>
Via parameter <b>extra</b> additional sizing data is defined
according to:
</p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>shapeType</b></th><th>Meaning of variable <b>extra</b></th></tr>
<tr>
  <td>"cylinder"</td>
  <td>if extra &gt; 0, a black line is included in the
      cylinder to show the rotation of it.</td>
</tr>
<tr>
  <td>"cone"</td>
  <td>extra = diameter-left-side / diameter-right-side, i.e.,<br>
      extra = 1: cylinder<br>
      extra = 0: "real" cone.</td>
</tr>
<tr>
  <td>"pipe"</td>
  <td>extra = outer-diameter / inner-diameter, i.e, <br>
      extra = 1: cylinder that is completely hollow<br>
      extra = 0: cylinder without a hole.</td>
</tr>
<tr>
  <td>"gearwheel"</td>
  <td>extra is the number of teeth of the gear.</td>
</tr>
<tr>
  <td>"spring"</td>
  <td>extra is the number of windings of the spring.
      Additionally, "height" is <b>not</b> the "height" but
      2*coil-width.</td>
</tr>
</table>
<p>
Parameter <b>color</b> is an Integer vector with 3 elements,
{r, g, b}, and specifies the color of the shape.
{r,g,b} are the "red", "green" and "blue" color parts.
Note, r g, b are given in the range 0 .. 255.
The predefined type <b>MultiBody.Types.Color</b> contains
a menu definition of the colors used in the MultiBody
library (will be replaced by a color editor).
</p>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>shapeType</TD><TD>&quot;box&quot;</TD><TD>Type of shape (box, sphere, cylinder, pipecylinder, cone, pipe, beam, gearwheel, spring)</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Shape <font color="darkgreen">
  &quot;Different visual shapes with variable size; all data have to be set as modifiers (see info layer)&quot;</font>

  <font color="darkgreen"></font>
  <font color="blue">import </font>SI = Modelica.SIunits;
  <font color="blue">parameter </font>String shapeType=&quot;box&quot; <font color="darkgreen">
    &quot;Type of shape (box, sphere, cylinder, pipecylinder, cone, pipe, beam, gearwheel, spring)&quot;</font>;
  <font color="blue">input </font><A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Frames.Orientation</A> R=<font color="red">MultiBody.Frames.nullRotation</font>() <font color="darkgreen">
    &quot;Orientation object to rotate the world frame into the object frame.&quot;</font>;
  <font color="blue">input </font>SI.Position r[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from origin of world frame to origin of object frame, resolved in world frame&quot;</font>;
  <font color="blue">input </font>SI.Position r_shape[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from origin of object frame to shape origin, resolved in object frame&quot;</font>;
  <font color="blue">input </font>Real lengthDirection[3]={1,0,0} <font color="darkgreen">
    &quot;Vector in length direction, resolved in object frame.&quot;</font>;
  <font color="blue">input </font>Real widthDirection[3]={0,1,0} <font color="darkgreen">
    &quot;Vector in width direction, resolved in object frame.&quot;</font>;
  <font color="blue">input </font>SI.Length length=0 <font color="darkgreen">&quot;Length of visual object.&quot;</font>;
  <font color="blue">input </font>SI.Length width=0 <font color="darkgreen">&quot;Width of visual object.&quot;</font>;
  <font color="blue">input </font>SI.Length height=0 <font color="darkgreen">&quot;Height of visual object.&quot;</font>;
  <font color="blue">input </font>Real extra=0.0 <font color="darkgreen">
    &quot;Additional size data for some of the shape types (details see docu).&quot;</font>;
  <font color="blue">input </font>Real color[3]={255,0,0} <font color="darkgreen">&quot;Color (details see docu).&quot;</font>;
<font color="blue">protected </font>
  Real rxry[3, 2];
  <font color="blue">output </font>Real Form;
<font color="blue">public </font>
  <font color="blue">output </font>Real rxvisobj[3] <font color="darkgreen">
    &quot;x-axis unit vector of shape, resolved in world frame&quot;</font>;
  <font color="blue">output </font>Real ryvisobj[3] <font color="darkgreen">
    &quot;y-axis unit vector of shape, resolved in world frame&quot;</font>;
  <font color="blue">output </font>SI.Position rvisobj[3] <font color="darkgreen">
    &quot;position vector from world frame to shape frame, resolved in world frame&quot;</font>;
  <font color="blue">output </font>SI.Length size[3] <font color="darkgreen">&quot;{length,width,height} of shape&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">output </font>Real Material;
  <font color="blue">output </font>Real Extra;
<font color="blue">equation </font>
  <font color="darkgreen"></font>
  <font color="darkgreen">/* Outputs to file. */</font>
  Form = (987000 + <font color="red">PackShape</font>(shapeType))*1E20;
  <font color="darkgreen">/*
  [rxvisobj, ryvisobj] = Frames.to_exy(Frames.absoluteRotation(R,
    Frames.from_nxy(lengthDirection, widthDirection))); */</font>
  rxry = <font color="red">Frames.to_exy</font>(<font color="red">Frames.absoluteRotation</font>(R, <font color="red">Frames.from_nxy</font>(
    lengthDirection, widthDirection)));
  rxvisobj = rxry[:, 1];
  ryvisobj = rxry[:, 2];
  rvisobj = r + <font color="red">Frames.resolve1</font>(R, r_shape);
  size = {length,width,height};
  Material = <font color="red">PackMaterial</font>(color[1]/255.0, color[2]/255.0, color[3]/255.0, 0.0);
  Extra = extra;
<font color="blue">end </font>Shape;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Arrow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Visualizers.Advanced.ArrowI.png" ALT="MultiBody.Visualizers.Advanced.Arrow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Visualizers.Advanced.Arrow"></A><A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced"
>MultiBody.Visualizers.Advanced</A>.Arrow</H2>
<B>Visualizing an arrow with variable size; all data have to be set as modifiers (see info layer)</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Model <b>Arrow</b> defines an arrow that is dynamically
visualized at the defined location (see variables below).
</p>
<IMG SRC="../Images/Arrow.png" ALT="model Visualizers.Advanced.Arrow">
<p>
The following variables are declared as <b>input</b>.
Furthermore the definition <b>import SI = Modelica.SIunits</b>
is used.
If the default equation is not appropriate, a corresponding
modifier equation has to be provided in the
model where a <b>Arrow</b> instance is used, e.g., in the form
</p>
<pre>
    Visualizers.Advanced.Arrow arrow(diameter = sin(time));
</pre>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Declaration</b></th>
    <th><b>Meaning</th></tr>
<tr>
  <td>Frames.Orientation <b>R</b> = Frames.nullRotation()</td>
  <td>Orientation object to rotate the world frame into the arrow frame.</td>
</tr>
<tr>
  <td>SI.Position[3] <b>r</b> = {0,0,0}</td>
  <td>Position vector from origin of world frame to origin of
      arrow frame,<br> resolved in world frame</td>
</tr>
<tr>
  <td>SI.Position[3] <b>r_head</b> = {0,0,0}</td>
  <td>Position vector from origin of arrow frame to the head of
      the arrow,<br> resolved in arrow frame</td>
</tr>
<tr>
  <td>SI.Diameter <b>diameter</b> = world.defaultArrowDiameter</td>
  <td>Diameter of arrow line</td>
</tr>
<tr>
  <td>Integer[3] <b>color</b> = {255,0,0} (red)</td>
  <td>Color (see Visualizers.Advanced.Shape)</td>
</tr>
</table>
<pre></PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Arrow <font color="darkgreen">
  &quot;Visualizing an arrow with variable size; all data have to be set as modifiers (see info layer)&quot;</font>

  <font color="darkgreen"></font>
  <font color="blue">import </font>SI = Modelica.SIunits;
  <font color="darkgreen"></font>
  <font color="blue">input </font><A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Frames.Orientation</A> R=<font color="red">MultiBody.Frames.nullRotation</font>() <font color="darkgreen">
    &quot;Orientation object to rotate the world frame into the arrow frame.&quot;</font>;
  <font color="blue">input </font>SI.Position r[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from origin of world frame to origin of arrow frame, resolved in world frame&quot;</font>;
  <font color="blue">input </font>SI.Position r_tail[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from origin of arrow frame to arrow tail, resolved in arrow frame&quot;</font>;
  <font color="blue">input </font>SI.Position r_head[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from arrow tail to the head of the arrow, resolved in arrow frame&quot;</font>;
  <font color="blue">input </font>SI.Diameter diameter=world.defaultArrowDiameter <font color="darkgreen">
    &quot;Diameter of arrow line&quot;</font>;
  <font color="blue">input </font><A HREF="MultiBody_Types.html#MultiBody.Types.Color"
>MultiBody.Types.Color</A> color={0,0,255} <font color="darkgreen">&quot;Color of arrow&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
  SI.Length length=<font color="red">Frames.length</font>(r_head) <font color="darkgreen">&quot;Length of arrow&quot;</font>;
  <A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowLine(
    length=<font color="red">noEvent</font>(<font color="red">max</font>(0, length - diameter*Types.Defaults.
        ArrowHeadLengthFraction)),
    width=diameter,
    height=diameter,
    lengthDirection=r_head,
    widthDirection={0,1,0},
    shapeType=&quot;cylinder&quot;,
    color=color,
    r_shape=r_tail,
    r=r,
    R=R);
  <A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowHead(
    length=<font color="red">noEvent</font>(<font color="red">max</font>(0, <font color="red">min</font>(length, diameter*Types.Defaults.
        ArrowHeadLengthFraction))),
    width=<font color="red">noEvent</font>(<font color="red">max</font>(0, diameter*MultiBody.Types.Defaults.
        ArrowHeadWidthFraction)),
    height=<font color="red">noEvent</font>(<font color="red">max</font>(0, diameter*MultiBody.Types.Defaults.
        ArrowHeadWidthFraction)),
    lengthDirection=r_head,
    widthDirection={0,1,0},
    shapeType=&quot;cone&quot;,
    color=color,
    r=arrowLine.rvisobj + arrowLine.rxvisobj*arrowLine.length,
    R=R);
  <font color="darkgreen"></font>
  <font color="darkgreen"></font>
<font color="blue">end </font>Arrow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DoubleArrow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Visualizers.Advanced.DoubleArrowI.png" ALT="MultiBody.Visualizers.Advanced.DoubleArrow" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Visualizers.Advanced.DoubleArrow"></A><A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced"
>MultiBody.Visualizers.Advanced</A>.DoubleArrow</H2>
<B>Visualizing a double arrow with variable size; all data have to be set as modifiers (see info layer)</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Model <b>DoubleArrow</b> defines a double arrow that is dynamically
visualized at the defined location (see variables below).
</p>
<p>
The following variables are declared as <b>input</b>.
Furthermore the definition <b>import SI = Modelica.SIunits</b>
is used.
If the default equation is not appropriate, a corresponding
modifier equation has to be provided in the
model where a <b>DoubleArrow</b> instance is used, e.g., in the form
</p>
<pre>
    Visualizers.Advanced.DoubleArrow doubleArrow(diameter = sin(time));
</pre>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th><b>Declaration</b></th>
    <th><b>Meaning</th></tr>
<tr>
  <td>Frames.Orientation <b>R</b> = Frames.nullRotation()</td>
  <td>Orientation object to rotate the world frame into the arrow frame.</td>
</tr>
<tr>
  <td>SI.Position[3] <b>r</b> = {0,0,0}</td>
  <td>Position vector from origin of world frame to origin of
      arrow frame,<br> resolved in world frame</td>
</tr>
<tr>
  <td>SI.Position[3] <b>r_head</b> = {0,0,0}</td>
  <td>Position vector from origin of arrow frame to the head of
      the arrow,<br> resolved in arrow frame</td>
</tr>
<tr>
  <td>SI.Diameter <b>diameter</b> = world.defaultArrowDiameter</td>
  <td>Diameter of arrow line</td>
</tr>
<tr>
  <td>Integer[3] <b>color</b> = {255,0,0}</td>
  <td>Color (see Visualizers.Advanced.Shape)</td>
</tr>
</table>
<pre></PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> DoubleArrow <font color="darkgreen">
  &quot;Visualizing a double arrow with variable size; all data have to be set as modifiers (see info layer)&quot;</font>

  <font color="darkgreen"></font>
  <font color="blue">import </font>SI = Modelica.SIunits;
  <font color="blue">input </font><A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Frames.Orientation</A> R=<font color="red">MultiBody.Frames.nullRotation</font>() <font color="darkgreen">
    &quot;Orientation object to rotate the world frame into the arrow frame.&quot;</font>;
  <font color="blue">input </font>SI.Position r[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from origin of world frame to origin of arrow frame, resolved in world frame&quot;</font>;
  <font color="blue">input </font>SI.Position r_tail[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from origin of arrow frame to double arrow tail, resolved in arrow frame&quot;</font>;
  <font color="blue">input </font>SI.Position r_head[3]={0,0,0} <font color="darkgreen">
    &quot;Position vector from double arrow tail to the head of the double arrow, resolved in arrow frame&quot;</font>;
  <font color="blue">input </font>SI.Diameter diameter=0.01 <font color="darkgreen">&quot;Diameter of arrow line&quot;</font>;
  <font color="blue">input </font><A HREF="MultiBody_Types.html#MultiBody.Types.Color"
>MultiBody.Types.Color</A> color={0,0,255} <font color="darkgreen">&quot;Color of double arrow&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">outer </font><A HREF="MultiBody.html#MultiBody.World"
>MultiBody.World</A> world;
  SI.Length length=<font color="red">Frames.length</font>(r_head) <font color="darkgreen">&quot;Length of arrow&quot;</font>;
  SI.Length headLength=<font color="red">noEvent</font>(<font color="red">max</font>(0, <font color="red">min</font>(length, diameter*MultiBody.Types.
      Defaults.ArrowHeadLengthFraction)));
  SI.Length headWidth=<font color="red">noEvent</font>(<font color="red">max</font>(0, diameter*MultiBody.Types.Defaults.
      ArrowHeadWidthFraction));
  <A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowLine(
    length=<font color="red">noEvent</font>(<font color="red">max</font>(0, length - 1.5*diameter*MultiBody.Types.Defaults.
        ArrowHeadLengthFraction)),
    width=diameter,
    height=diameter,
    lengthDirection=r_head,
    widthDirection={0,1,0},
    shapeType=&quot;cylinder&quot;,
    color=color,
    r_shape=r_tail,
    r=r,
    R=R);
  <A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowHead1(
    length=headLength,
    width=headWidth,
    height=headWidth,
    lengthDirection=r_head,
    widthDirection={0,1,0},
    shapeType=&quot;cone&quot;,
    color=color,
    r=arrowLine.rvisobj + arrowLine.rxvisobj*arrowLine.length,
    R=R);
  <A HREF="MultiBody_Visualizers_Advanced.html#MultiBody.Visualizers.Advanced.Shape"
>Visualizers.Advanced.Shape</A> arrowHead2(
    length=headLength,
    width=headWidth,
    height=headWidth,
    lengthDirection=r_head,
    widthDirection={0,1,0},
    shapeType=&quot;cone&quot;,
    color=color,
    r=arrowLine.rvisobj + arrowLine.rxvisobj*(arrowLine.length + 0.5*arrowHead1
        .length),
    R=R);
  <font color="darkgreen"></font>
<font color="blue">end </font>DoubleArrow;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Wed Oct 29 09:12:15 2003
.
</address></BODY>
</HTML>
