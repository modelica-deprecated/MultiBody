<HTML>
<HEAD><META name="HTML-Generator" content="Dymola"><TITLE>MultiBody</TITLE></HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Internal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Frames.Internal"></A><A HREF="MultiBody_Frames.html#MultiBody.Frames"
>MultiBody.Frames</A>.Internal</H2>
<B>Internal definitions that may be removed or changed (do not use)</B>
<P>
<A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.resolve1_der"
><IMG SRC="MultiBody.Frames.Internal.resolve1_derI.png" ALT="MultiBody.Frames.Internal.resolve1_der" WIDTH=80  HEIGHT=80 ></A>
<A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.resolve2_der"
><IMG SRC="MultiBody.Frames.Internal.resolve2_derI.png" ALT="MultiBody.Frames.Internal.resolve2_der" WIDTH=80  HEIGHT=80 ></A>
<P><P>
<H3>Types and constants</H3>
<A NAME="MultiBody.Frames.Internal.TransformationMatrix"></A><font color="blue">type</font> TransformationMatrix = Real[3, 3];<p>
<A NAME="MultiBody.Frames.Internal.QuaternionBase"></A><font color="blue">type</font> QuaternionBase = Real[4];<p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.maxWithoutEvent"
>maxWithoutEvent</A>
</TD><TD>maximum of the input arguments, without event and without warning message when differentiating</TD></TR>
<TR><TD><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.maxWithoutEvent_d"
>maxWithoutEvent_d</A>
</TD><TD>First derivative of function maxWithoutEvent(..)</TD></TR>
<TR><TD><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.maxWithoutEvent_dd"
>maxWithoutEvent_dd</A>
</TD><TD>First derivative of function maxWithoutEvent_d(..)</TD></TR>
<TR><TD><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.resolve1_der"
>resolve1_der</A>
</TD><TD>Derivative of function Frames.resolve1(..)</TD></TR>
<TR><TD><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.resolve2_der"
>resolve2_der</A>
</TD><TD>Derivative of function Frames.resolve2(..)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE resolve1_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Frames.Internal.resolve1_derI.png" ALT="MultiBody.Frames.Internal.resolve1_der" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Frames.Internal.resolve1_der"></A><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal"
>MultiBody.Frames.Internal</A>.resolve1_der</H2>
<B>Derivative of function Frames.resolve1(..)</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>R</TD><TD>&nbsp;</TD><TD>Orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>v2[3]</TD><TD>&nbsp;</TD><TD>Vector resolved in frame 2</TD></TR>
<TR><TD>v2_der[3]</TD><TD>&nbsp;</TD><TD>= der(v2)</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>v1_der[3]</TD><TD>&nbsp;</TD><TD>Derivative of vector v resolved in frame 1</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> resolve1_der <font color="darkgreen">&quot;Derivative of function Frames.resolve1(..)&quot;</font>
  <font color="blue">import </font><A HREF="MultiBody_Frames.html#MultiBody.Frames"
>MultiBody.Frames</A>;
  <font color="blue">extends </font><A HREF="../../Modelica/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Orientation</A> R <font color="darkgreen">&quot;Orientation object to rotate frame 1 into frame 2&quot;</font>;
  <font color="blue">input </font>Real v2[3] <font color="darkgreen">&quot;Vector resolved in frame 2&quot;</font>;
  <font color="blue">input </font>Real v2_der[3] <font color="darkgreen">&quot;= der(v2)&quot;</font>;
  <font color="blue">output </font>Real v1_der[3] <font color="darkgreen">&quot;Derivative of vector v resolved in frame 1&quot;</font>;
<font color="blue">algorithm </font>
  v1_der := <font color="red">Frames.resolve1</font>(R, v2_der + <font color="red">cross</font>(R.w, v2));
<font color="blue">end </font>resolve1_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE resolve2_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="MultiBody.Frames.Internal.resolve2_derI.png" ALT="MultiBody.Frames.Internal.resolve2_der" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="MultiBody.Frames.Internal.resolve2_der"></A><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal"
>MultiBody.Frames.Internal</A>.resolve2_der</H2>
<B>Derivative of function Frames.resolve2(..)</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>R</TD><TD>&nbsp;</TD><TD>Orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>v1[3]</TD><TD>&nbsp;</TD><TD>Vector resolved in frame 1</TD></TR>
<TR><TD>v1_der[3]</TD><TD>&nbsp;</TD><TD>= der(v1)</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>v2_der[3]</TD><TD>&nbsp;</TD><TD>Derivative of vector v resolved in frame 2</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> resolve2_der <font color="darkgreen">&quot;Derivative of function Frames.resolve2(..)&quot;</font>
  <font color="blue">import </font><A HREF="MultiBody_Frames.html#MultiBody.Frames"
>MultiBody.Frames</A>;
  <font color="blue">extends </font><A HREF="../../Modelica/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="MultiBody_Frames.html#MultiBody.Frames.Orientation"
>Orientation</A> R <font color="darkgreen">&quot;Orientation object to rotate frame 1 into frame 2&quot;</font>;
  <font color="blue">input </font>Real v1[3] <font color="darkgreen">&quot;Vector resolved in frame 1&quot;</font>;
  <font color="blue">input </font>Real v1_der[3] <font color="darkgreen">&quot;= der(v1)&quot;</font>;
  <font color="blue">output </font>Real v2_der[3] <font color="darkgreen">&quot;Derivative of vector v resolved in frame 2&quot;</font>;
<font color="blue">algorithm </font>
  v2_der := <font color="red">Frames.resolve2</font>(R, v1_der) - <font color="red">cross</font>(R.w, <font color="red">Frames.resolve2</font>(R, v1));
<font color="blue">end </font>resolve2_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE maxWithoutEvent<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Frames.Internal.maxWithoutEvent"></A><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal"
>MultiBody.Frames.Internal</A>.maxWithoutEvent</H2>
<B>maximum of the input arguments, without event and without warning message when differentiating</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Function <b>maxWithoutEvent</b> returns the maximum of its two
input arguments. This functions is used instead of the Modelica
built-in function "max" or an if-statement with "noEvent(..)",
because Dymola prints a warning message when differentiating
in these cases. For the special cases as used in the MultiBody
library, these warning messages are irrelevant but will potentially
irritate the user. The C-function "maxWithoutEvent" and its
derivatives provided as additional functions "maxWithoutEvent_d"
and "maxWithoutEvent_dd" will not lead to such warning
messages.
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>u1</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u2</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>y</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> maxWithoutEvent <font color="darkgreen">
  &quot;maximum of the input arguments, without event and without warning message when differentiating&quot;</font>

  annotation(derivative=<A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.maxWithoutEvent_d"
>maxWithoutEvent_d</A>);
  <font color="darkgreen"></font>
  <font color="blue">input </font>Real u1;
  <font color="blue">input </font>Real u2;
  <font color="blue">output </font>Real y;
  <font color="darkgreen">//  annotation (Header=&quot;#include \&quot;MultiBody.h\&quot;&quot;);</font>
<font color="blue">protected </font>
  Integer dummy;
<font color="blue">algorithm </font>
  y := <font color="blue">if </font>u1 &gt; u2<font color="blue"> then </font>u1<font color="blue"> else </font>u2;
  dummy := 0;
<font color="blue">end </font>maxWithoutEvent;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE maxWithoutEvent_d<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Frames.Internal.maxWithoutEvent_d"></A><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal"
>MultiBody.Frames.Internal</A>.maxWithoutEvent_d</H2>
<B>First derivative of function maxWithoutEvent(..)</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>u1</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u2</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u1_d</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u2_d</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>y_d</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> maxWithoutEvent_d <font color="darkgreen">
  &quot;First derivative of function maxWithoutEvent(..)&quot;</font>
  annotation(derivative=<A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal.maxWithoutEvent_dd"
>maxWithoutEvent_dd</A>);
  <font color="blue">input </font>Real u1;
  <font color="blue">input </font>Real u2;
  <font color="blue">input </font>Real u1_d;
  <font color="blue">input </font>Real u2_d;
  <font color="blue">output </font>Real y_d;
  <font color="darkgreen">//annotation (Header=&quot;#include \&quot;MultiBody.h\&quot;&quot;);</font>
<font color="blue">protected </font>
  Integer dummy;
<font color="blue">algorithm </font>
  y_d := <font color="blue">if </font>u1 &gt; u2<font color="blue"> then </font>u1_d<font color="blue"> else </font>u2_d;
  dummy := 0;
<font color="blue">end </font>maxWithoutEvent_d;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE maxWithoutEvent_dd<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="MultiBody.Frames.Internal.maxWithoutEvent_dd"></A><A HREF="MultiBody_Frames_Internal.html#MultiBody.Frames.Internal"
>MultiBody.Frames.Internal</A>.maxWithoutEvent_dd</H2>
<B>First derivative of function maxWithoutEvent_d(..)</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>u1</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u2</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u1_d</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u2_d</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u1_dd</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>u2_dd</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>y_dd</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> maxWithoutEvent_dd <font color="darkgreen">
  &quot;First derivative of function maxWithoutEvent_d(..)&quot;</font>
  <font color="blue">input </font>Real u1;
  <font color="blue">input </font>Real u2;
  <font color="blue">input </font>Real u1_d;
  <font color="blue">input </font>Real u2_d;
  <font color="blue">input </font>Real u1_dd;
  <font color="blue">input </font>Real u2_dd;
  <font color="blue">output </font>Real y_dd;
<font color="blue">algorithm </font>
  y_dd := <font color="blue">if </font>u1 &gt; u2<font color="blue"> then </font>u1_dd<font color="blue"> else </font>u2_dd;
<font color="blue">end </font>maxWithoutEvent_dd;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Thu Mar 04 09:44:57 2004
.
</address></BODY>
</HTML>
